<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vista 2</title>
    <link rel="stylesheet" href="vista2_1.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
    <link rel="icon" href="ima/favicon.png" type="image/png" />
</head>

<body>
    <button class="btn-anterior" onclick="history.back()">‚¨Ö</button>
    <header class="top-bar">
        <button id="menu-toggle" class="hamburger">&#9776;</button>
        <img src="ima/logo.png" class="logo" alt="Logo" />
    </header>

    <aside id="sidebar" class="sidebar">
        <!-- Logo + cerrar -->
        <div class="sidebar-header">
            <img src="ima/logo.png" class="logo-menu" alt="Logo THOR" />
            <button id="cerrarside" onclick="closeMenu()">&times;</button>
        </div>

        <!-- Usuario -->
        <div class="sidebar-user">
            <div class="profile-pic" onclick="location.href='vista2_1.html'"></div>
            <h3>Juan Carlos Bogota</h3>
            <p>C.C. 79763402<br />Soldador</p>
        </div>

        <!-- Botones -->
        <div class="sidebar-buttons">
            <button onclick="location.href='vista2.html'"><span class="icon">üè†</span>
                Inicio</button>
            <button onclick="location.href='vista2_2.html'"><span class="icon">‚öôÔ∏è</span> Equipos</button>
            <button onclick="location.href='vista2_3.html'" style="text-align: left;"><span class="icon">üìÑ</span>
                Diligenciar
                Preoperacionales</button>
        </div>

        <!-- Cerrar sesi√≥n -->
        <button id="logout" onclick="location.href='index.html'">‚¨Ö cerrar sesi√≥n</button>
    </aside>

    <div id="overlay" class="overlay" onclick="closeMenu()"></div>

    <main class="perfil-container">
        <div class="perfil-card">
            <div class="perfil-pic"></div>
            <h2>Juan Carlos Bogota</h2>
            <p>C.C. 79763402</p>
            <p>Cargo: Soldador</p>
            <p>Fecha ingreso: 01/01/2000</p>

            <button class="btn-secundario" style="cursor: auto;">
                <span class="icono-btn">üóíÔ∏è</span> Preoperacionales diligenciados
            </button>


            <div class="preop-wrapper">
                <img src="ima/bogota.jpg" class="preop-img" alt="Preoperacional"
                    onclick="document.getElementById('modalPreop').style.display='flex'">
            </div>

            <!-- Modal imagen preop -->
            <div id="modalPreop" class="modal-preop" onclick="if(event.target == this) this.style.display='none'">
                <div class="modal-inner">
                    <span class="close-modal"
                        onclick="document.getElementById('modalPreop').style.display='none'">&times;</span>
                    <div class="modal-img-container">
                        <img src="ima/bogota.jpg" alt="Preoperacional grande" class="modal-preop-img" />
                        <div class="nc-marker" onclick="toggleTooltip()">NC</div>
                        <div id="nc-tooltip" class="nc-tooltip">
                            <strong>19/05/2025</strong><br>
                            Juan Carlos Bogot√°<br>
                            El cable se encuentra pelado con evidente desgaste cerca al enchufe.<br><br>
                            <img src="ima/nc_evidencia.jpg" alt="Evidencia" />
                        </div>
                    </div>
                </div>
            </div>

            <button class="btn-principal" onclick="location.href='vista2_3.html'">
                <span class="icono-btn">üìÑ</span> Diligenciar <br> Preoperacionales
            </button>
        </div>
    </main>
    <script>
        const sidebar = document.getElementById("sidebar");
        const overlay = document.getElementById("overlay");

        document.getElementById("menu-toggle").addEventListener("click", () => {
            sidebar.classList.add("active");
            overlay.classList.add("active");
        });

        function closeMenu() {
            sidebar.classList.remove("active");
            overlay.classList.remove("active");
        }
    </script>
    <!-- NC tooltip responsive -->
    <script>
        let tooltipVisible = false;

        function toggleTooltip() {
            const tooltip = document.getElementById('nc-tooltip');
            tooltipVisible = !tooltipVisible;
            tooltip.style.display = tooltipVisible ? 'block' : 'none';
        }

        document.addEventListener('click', function (event) {
            const tooltip = document.getElementById('nc-tooltip');
            const marker = document.querySelector('.nc-marker');
            if (!tooltip.contains(event.target) && !marker.contains(event.target)) {
                tooltip.style.display = 'none';
                tooltipVisible = false;
            }
        });
    </script>
</body>

</html>
