<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detalle Equipo</title>
    <link rel="stylesheet" href="vista2_2_1.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
    <link rel="icon" href="ima/favicon.png" type="image/png" />

</head>

<body>
    <!-- Barra superior -->
    <header class="top-bar">
        <button id="menu-toggle" class="hamburger">&#9776;</button>
        <img src="ima/logo.png" class="logo" alt="Logo" />
    </header>

    <!-- Sidebar lateral oculto -->
    <aside id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <img src="ima/logo.png" class="logo-menu" alt="Logo THOR" />
            <button id="cerrarside" onclick="closeMenu()">&times;</button>
        </div>

        <div class="sidebar-user">
            <div class="profile-pic" onclick="location.href='vista2_1.html'"></div>
            <h3>Juan Carlos Bogota</h3>
            <p>C.C. 79763402<br />Cargo</p>
        </div>

        <div class="sidebar-buttons">
            <button onclick="location.href='vista2.html'"><span class="icon">üè†</span> Inicio</button>
            <button onclick="location.href='vista2_2.html'"><span class="icon">‚öôÔ∏è</span> Equipos</button>
            <button onclick="location.href='vista2_3.html'" style="text-align: left;"><span class="icon">üìÑ</span>
                Diligenciar Preoperacionales</button>
        </div>

        <button id="logout" onclick="location.href='index.html'">‚¨Ö cerrar sesi√≥n</button>
    </aside>
    <div id="overlay" class="overlay" onclick="closeMenu()"></div>

    <!-- Contenido principal -->
    <main class="detail" style="margin-top: 70px;">
        <button class="btn-anterior" onclick="history.back()">‚¨Ö</button>
        <div class="icon-large">
            <div class="circle-icon" style="background: #ff1b1b;">&#128308;</div>
        </div>
        <h2>Compresor tornillo rotativo</h2>
        <p><strong>Serial:</strong> 8304585</p>
        <p><strong>Marca:</strong> Kaeser</p>
        <p><strong>Ultimo mantenimiento:</strong> 15/05/2025</p>
        <button class="pdf-btn" onclick="document.getElementById('pdfModal').style.display='block'">visualizar
            pdf</button>

        <br><br>
        <button class="preop-btn" style="cursor: auto;"><span class="icon">üìÑ</span> Preoperacionales</button>
        <br><br>
        <p>Preoperacional turno ma√±ana</p>
        <div class="preop-wrapper">
            <img src="ima/preoperacional.jpg" class="preop-img" alt="Preoperacional"
                onclick="document.getElementById('modalPreop').style.display='flex'">
        </div>

        <!-- Modal imagen preop -->
        <div id="modalPreop" class="modal-preop" onclick="if(event.target == this) this.style.display='none'">
            <div class="modal-inner">
                <span class="close-modal"
                    onclick="document.getElementById('modalPreop').style.display='none'">&times;</span>
                <div class="modal-img-container">
                    <img src="ima/preoperacional.jpg" alt="Preoperacional grande" class="modal-preop-img" />
                    <div class="nc-marker" onclick="toggleTooltip()">NC</div>
                    <div id="nc-tooltip" class="nc-tooltip">
                        <strong>19/05/2025</strong><br>
                        Juan Carlos Bogot√°<br>
                        El cable se encuentra pelado con evidente desgaste cerca al enchufe.<br><br>
                        <img src="ima/nc_evidencia.jpg" alt="Evidencia" />
                    </div>
                </div>
            </div>
        </div>

        <br><br>
        <p>Preoperacional turno tarde</p>
        <div class="img-placeholder">aqui se pone una imagen</div>
        <br><br>
        <p>Preoperacional turno noche</p>
        <div class="img-placeholder">aqui se pone una imagen</div>
        <br><br>
        <button class="preop-btn1" onclick="location.href='vista2_3_3.html'"
            style="text-align: center; cursor: pointer;"><span class="icon">üìÑ</span> Diligenciar
            preoperacional</button>
    </main>

    <!-- Modal PDF -->
    <div id="pdfModal" class="modal" onclick="if(event.target == this) this.style.display='none'">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('pdfModal').style.display='none'">&times;</span>
            <iframe src="ima/pdf.pdf" frameborder="0"></iframe>
        </div>
    </div>

    <!-- JS sidebar -->
    <script>
        const sidebar = document.getElementById("sidebar");
        const overlay = document.getElementById("overlay");

        document.getElementById("menu-toggle").addEventListener("click", () => {
            sidebar.classList.add("active");
            overlay.classList.add("active");
        });

        function closeMenu() {
            sidebar.classList.remove("active");
            overlay.classList.remove("active");
        }
    </script>

    <!-- NC tooltip responsive -->
    <script>
        let tooltipVisible = false;

        function toggleTooltip() {
            const tooltip = document.getElementById('nc-tooltip');
            tooltipVisible = !tooltipVisible;
            tooltip.style.display = tooltipVisible ? 'block' : 'none';
        }

        document.addEventListener('click', function (event) {
            const tooltip = document.getElementById('nc-tooltip');
            const marker = document.querySelector('.nc-marker');
            if (!tooltip.contains(event.target) && !marker.contains(event.target)) {
                tooltip.style.display = 'none';
                tooltipVisible = false;
            }
        });
    </script>
</body>

</html>
